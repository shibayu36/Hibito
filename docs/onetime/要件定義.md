# Hibito 要件定義書

## 1. プロダクトコンセプト

### 1.1 ビジョン
「今日のやる気を上げるためだけのTODOアプリ」

### 1.2 コアバリュー
- **日次リセット**: 毎日0時に全タスクが自動的に消去される
- **精神的負担の軽減**: 未完了タスクの累積による罪悪感から解放
- **今日への集中**: 過去に囚われず、今日できることに集中

### 1.3 差別化ポイント
- 従来のTODOアプリが「タスクの永続化」を前提とするのに対し、意図的に「忘却」を組み込む
- できなかったことを可視化せず、毎日新鮮な気持ちでスタートできる
- 日々のモチベーション向上にフォーカス

## 2. ターゲットユーザー

### 2.1 主要ペルソナ
**「毎日新鮮な気持ちでスタートしたい人」**
- TODOリストの未完了タスクを見てやる気が下がる経験がある
- 完璧主義より「今日できることを今日やる」派
- プライベートの充実または仕事の生産性向上を求めている
- macとiPhoneを併用している

### 2.2 ユーザーの心理的ニーズ
- **自己寛容性**: できなかったことを許す仕組みが欲しい
- **現在志向**: 過去に囚われず「今日」に集中したい
- **達成可能性**: 毎日を新しいチャンスとして捉えたい

### 2.3 利用シーン
- プライベートでの日々のタスク管理
- 仕事での当日タスクの整理（補助的利用）

## 3. ユースケース

### 3.1 朝のルーティン
1. 朝起きて、真っさらなTODOリストを開く
2. 今日やりたいことを3-5個程度入力
3. タスクの優先順位を手動で並び替え

### 3.2 日中の利用
1. タスクを実行したら完了チェック
2. 新しく思いついたタスクを追加
3. 必要に応じてタスクの内容を編集

### 3.3 夜の状況
- 22時: まだ未完了タスクが残っている → 「明日リセットされるし」と気楽に考える
- 23:50: （オプション）リセット通知を受け取る
- 0時: 全タスクが消えて新しい一日の始まり

## 4. 機能要件

### 4.1 MVP（初期リリース）機能

#### 4.1.1 タスク管理機能
- **タスク追加**
  - 文字数制限: 100文字（簡潔性を促す）
  - 入力方式: テキスト入力、音声入力（iOS）
  - ショートカット: キーボードショートカット対応（mac）
- **タスク編集**
  - インライン編集
  - 長押しまたはダブルタップで編集モード
- **タスク削除**
  - スワイプで削除
  - 削除確認なし（即座に削除）
- **タスク完了**
  - チェックボックスのタップ
  - 完了時に視覚的フィードバック
- **タスク並び替え**
  - ドラッグ&ドロップで手動並び替え
  - 自動ソートなし（ユーザーの意図を尊重）

#### 4.1.2 リセット機能
- **自動リセット**
  - トリガー: デバイスのローカル時刻0:00
  - 対象: 完了/未完了問わず全タスク
  - アニメーション: 消去を表現する視覚効果
- **リセット通知**（オプション）
  - 23:50に「まもなくリセット」通知
  - 通知の有効/無効を設定可能

#### 4.1.3 データ同期
- **同期対象**: mac ⇔ iOS間
- **同期タイミング**: リアルタイム同期
- **オフライン対応**: ローカル優先、オンライン復帰時に自動同期
- **競合解決**: 最新の変更を優先

### 4.2 将来の拡張機能

#### 4.2.1 明日のタスク機能
- 今日と明日の2日分のみタスク入力可能
- それ以外の日付には入力不可（コンセプトの維持）
- 明日のタスクは0時に「今日のタスク」に自動移行

#### 4.2.2 カスタマイズ機能
- リセット時刻の変更（ユーザーのローカルタイムゾーン）
- テーマカラーの選択

#### 4.2.3 統計機能（オプトイン）
- 日々の達成率の記録（タスク内容は保存しない）
- 週次サマリー表示

## 5. 非機能要件

### 5.1 パフォーマンス
- アプリ起動: 1秒以内
- タスク追加: 即座に反映
- 同期レイテンシ: 1秒以内を目標

### 5.2 ユーザビリティ
- 最小タップ数: タスク追加まで2タップ以内
- 学習コスト: チュートリアルなしで直感的に使える
- エラー回復: 操作ミスを簡単に取り消せる

### 5.3 信頼性
- データ保護: 1操作ごとの自動保存
- クラッシュ対応: アプリ再起動時にデータ復元
- 同期エラー: ローカル動作の継続を保証

### 5.4 アクセシビリティ
- VoiceOver完全対応
- Dynamic Type対応
- カラーブラインドネス配慮

## 6. エッジケースと制約事項

### 6.1 時間関連のエッジケース
- **23:59:59のタスク追加**: 即座に追加され、1秒後に削除される（仕様通り）
- **タイムゾーン変更**: 新タイムゾーンの0時に合わせてリセット時刻を調整
- **端末時刻の手動変更**: 不正とみなさず、新時刻に従って動作

### 6.2 同期関連のエッジケース
- **同時編集**: 両方の編集を可能な限り保持（楽観的ロック）
- **大量タスクの同期**: バッチ処理で対応、プログレス表示
- **同期容量不足**: ローカル動作を継続、警告を表示

### 6.3 制約事項
- 過去のタスクは一切参照不可
- タスクの復元機能なし（意図的な仕様）
- 2日より先の計画は不可

## 7. UI/UX設計方針

### 7.1 視覚的コンセプト
- **白紙のメタファー**: 毎朝の新しいキャンバス
- **ミニマルデザイン**: 集中を妨げない簡潔な画面
- **優しい色調**: 精神的プレッシャーを与えない配色

### 7.2 インタラクション原則
- **即座のフィードバック**: 全ての操作に触覚/視覚的応答
- **取り消し可能**: 主要な操作はUndo対応
- **コンテキスト維持**: 画面遷移を最小限に

### 7.3 情報アーキテクチャ
- 単一画面構成（設定以外）
- 階層を持たないフラットな構造
- 今日のタスクが常に最優先で表示