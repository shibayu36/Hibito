# ãƒªã‚»ãƒƒãƒˆæ™‚é–“è¨­å®šæ©Ÿèƒ½ è¦ä»¶å®šç¾©

## æ¦‚è¦
ç¾åœ¨0æ™‚å›ºå®šã¨ãªã£ã¦ã„ã‚‹TODOãƒªã‚¹ãƒˆã®è‡ªå‹•ãƒªã‚»ãƒƒãƒˆæ™‚é–“ã‚’ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒ1æ™‚é–“å˜ä½ã§è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ©Ÿèƒ½ã€‚

## èƒŒæ™¯
- ç¾åœ¨ã®Hibitoã‚¢ãƒ—ãƒªã¯æ¯æ—¥0æ™‚ã«å…¨ã‚¿ã‚¹ã‚¯ãŒè‡ªå‹•çš„ã«å‰Šé™¤ã•ã‚Œã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã£ã¦ã¯0æ™‚ä»¥å¤–ã®æ™‚é–“ï¼ˆä¾‹ï¼šæœ6æ™‚ã€å¤œ9æ™‚ãªã©ï¼‰ã«ãƒªã‚»ãƒƒãƒˆã—ãŸã„éœ€è¦ãŒã‚ã‚‹
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã«åˆã‚ã›ãŸæŸ”è»Ÿãªè¨­å®šã‚’å¯èƒ½ã«ã™ã‚‹

## æ©Ÿèƒ½è¦ä»¶

### 1. è¨­å®šç”»é¢
- **ã‚¢ã‚¯ã‚»ã‚¹æ–¹æ³•**
  - TodoListViewã®ãƒ˜ãƒƒãƒ€ãƒ¼éƒ¨åˆ†ã«æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ã‚’é…ç½®
  - ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨NavigationLinkã§è¨­å®šç”»é¢ã¸é·ç§»
  
- **è¨­å®šé …ç›®**
  - ãƒªã‚»ãƒƒãƒˆæ™‚é–“ã®é¸æŠ
    - 24æ™‚é–“è¡¨è¨˜ï¼ˆ0:00ã€œ23:00ï¼‰
    - 1æ™‚é–“åˆ»ã¿ã§ã®é¸æŠ
    - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼š0:00ï¼ˆåˆå‰0æ™‚ï¼‰
  
- **UIä»•æ§˜**
  - Pickerã‚’ä½¿ç”¨ã—ãŸæ™‚é–“é¸æŠ
  - é¸æŠå¾Œã¯è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã‚‹
  - ä»Šå¾Œã®æ‹¡å¼µæ€§ã‚’è€ƒæ…®ã—ãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆiCloudé€£æºãªã©ã®è¨­å®šè¿½åŠ ã‚’æƒ³å®šï¼‰

### 2. ãƒªã‚»ãƒƒãƒˆæ™‚é–“ã®å‹•ä½œ
- è¨­å®šã•ã‚ŒãŸæ™‚é–“ã«ãªã£ãŸã‚‰ã€ãã®æ™‚é–“ã‚ˆã‚Šå‰ã«ä½œæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’å‰Šé™¤
- ä¾‹ï¼šãƒªã‚»ãƒƒãƒˆæ™‚é–“ãŒæœ6:00ã®å ´åˆ
  - 6:00ã«ãªã£ãŸã‚‰ã€6:00ã‚ˆã‚Šå‰ã«ä½œæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ãŒå‰Šé™¤å¯¾è±¡
  - 5:59ã«ä½œæˆã—ãŸã‚¿ã‚¹ã‚¯ã¯6:00ã«å‰Šé™¤ã•ã‚Œã‚‹
  - 6:01ã«ä½œæˆã—ãŸã‚¿ã‚¹ã‚¯ã¯ç¿Œæ—¥ã®6:00ã¾ã§æ®‹ã‚‹

### 3. ãƒ‡ãƒ¼ã‚¿ä¿å­˜
- SwiftDataã‚’ä½¿ç”¨ã—ã¦è¨­å®šå€¤ã‚’æ°¸ç¶šåŒ–
- ã‚¢ãƒ—ãƒªå†èµ·å‹•å¾Œã‚‚è¨­å®šãŒç¶­æŒã•ã‚Œã‚‹
- æ—¢å­˜ã®SwiftDataã‚³ãƒ³ãƒ†ãƒŠã¨çµ±ä¸€ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ç®¡ç†
- å°†æ¥ã®iCloudåŒæœŸã«ã‚‚å¯¾å¿œã—ã‚„ã™ã„æ§‹é€ 

## æŠ€è¡“è¨­è¨ˆ

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
MVVMãƒ‘ã‚¿ãƒ¼ãƒ³ + Repository ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¡ç”¨
```
SettingsView â†’ SettingsViewModel â†’ SettingsRepository â†’ SwiftData
```

### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
```
Hibito/
â”œâ”€â”€ Repositories/
â”‚   â””â”€â”€ SettingsRepository.swift    # ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤
â”œâ”€â”€ ViewModels/
â”‚   â”œâ”€â”€ TodoListViewModel.swift     # æ—¢å­˜
â”‚   â””â”€â”€ SettingsViewModel.swift     # æ–°è¦ä½œæˆ
â”œâ”€â”€ Views/
â”‚   â”œâ”€â”€ TodoListView.swift          # UIä¿®æ­£
â”‚   â””â”€â”€ SettingsView.swift          # æ–°è¦ä½œæˆ
â”œâ”€â”€ Extensions/
â”‚   â””â”€â”€ Date+Extensions.swift       # æ©Ÿèƒ½æ‹¡å¼µ
â””â”€â”€ Models/
    â”œâ”€â”€ TodoItem.swift              # å¤‰æ›´ãªã—
    â””â”€â”€ Settings.swift              # æ–°è¦ä½œæˆï¼ˆ@Modelãƒã‚¯ãƒ­ä½¿ç”¨ï¼‰
```

### å®Ÿè£…ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### 1. Settings.swiftï¼ˆãƒ¢ãƒ‡ãƒ«ï¼‰
```swift
import Foundation
import SwiftData

@Model
class Settings {
    var resetTime: Int
    
    init(resetTime: Int = 0) {
        self.resetTime = resetTime
    }
}
```

#### 2. SettingsRepository.swift
```swift
import Foundation
import SwiftData

class SettingsRepository {
    private let modelContext: ModelContext
    
    init(modelContext: ModelContext) {
        self.modelContext = modelContext
    }
    
    // è¨­å®šå€¤ã‚’å–å¾—ï¼ˆå­˜åœ¨ã—ãªã„å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§æ–°è¦ä½œæˆï¼‰
    func getSettings() -> Settings {
        let descriptor = FetchDescriptor<Settings>()
        let settings = try? modelContext.fetch(descriptor).first
        
        if let existingSettings = settings {
            return existingSettings
        } else {
            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’æ–°è¦ä½œæˆ
            let newSettings = Settings(resetTime: 0)
            modelContext.insert(newSettings)
            try? modelContext.save()
            return newSettings
        }
    }
    
    // è¨­å®šå€¤ã‚’æ›´æ–°
    func updateResetTime(_ resetTime: Int) {
        let settings = getSettings()
        settings.resetTime = resetTime
        try? modelContext.save()
    }
    
    // ä»Šæ—¥ã®æŒ‡å®šæ™‚åˆ»ã®Dateã‚’å–å¾—
    func getResetDate() -> Date {
        let settings = getSettings()
        let calendar = Calendar.current
        let now = Date()
        return calendar.date(bySettingHour: settings.resetTime, minute: 0, second: 0, of: now) ?? now
    }
}
```

#### 3. SettingsViewModel.swift
```swift
import Foundation

@Observable
class SettingsViewModel {
    private let settingsRepository: SettingsRepository
    
    var resetTime: Int {
        get { settingsRepository.getSettings().resetTime }
        set { settingsRepository.updateResetTime(newValue) }
    }
    
    init(settingsRepository: SettingsRepository) {
        self.settingsRepository = settingsRepository
    }
    
    // è¨­å®šã®èª¬æ˜æ–‡ã‚’ç”Ÿæˆ
    func resetTimeDescription() -> String {
        return "æ¯æ—¥\(resetTime):00ã«ã€ãã‚Œã‚ˆã‚Šå‰ã«ä½œæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ãŒè‡ªå‹•çš„ã«å‰Šé™¤ã•ã‚Œã¾ã™"
    }
}
```

#### 4. SettingsView.swift
```swift
import SwiftUI
import SwiftData

struct SettingsView: View {
    @Environment(\.modelContext) private var modelContext
    @Environment(\.dismiss) private var dismiss
    @State private var viewModel: SettingsViewModel?
    
    var body: some View {
        NavigationStack {
            if let viewModel = viewModel {
                Form {
                    Section {
                        Picker("ãƒªã‚»ãƒƒãƒˆæ™‚é–“", selection: $viewModel.resetTime) {
                            ForEach(0..<24, id: \.self) { hour in
                                Text(String(format: "%02d:00", hour)).tag(hour)
                            }
                        }
                        .pickerStyle(.wheel)
                    } header: {
                        Text("ãƒªã‚»ãƒƒãƒˆæ™‚é–“")
                    } footer: {
                        Text(viewModel.resetTimeDescription())
                    }
                }
                .navigationTitle("è¨­å®š")
                .navigationBarTitleDisplayMode(.inline)
                .toolbar {
                    ToolbarItem(placement: .navigationBarTrailing) {
                        Button("å®Œäº†") {
                            dismiss()
                        }
                    }
                }
            }
        }
        .onAppear {
            let repository = SettingsRepository(modelContext: modelContext)
            viewModel = SettingsViewModel(settingsRepository: repository)
        }
    }
}
```

#### 5. Date+Extensions.swift ã¸ã®è¿½åŠ 
```swift
extension Date {
    // æ—¢å­˜ã® isBeforeToday() ã¯ãã®ã¾ã¾
    
    // æŒ‡å®šæ™‚åˆ»ã‚ˆã‚Šå‰ã«ä½œæˆã•ã‚ŒãŸã‹ã‚’åˆ¤å®š
    func isBeforeResetTime(_ resetTime: Int) -> Bool {
        let calendar = Calendar.current
        let now = Date()
        
        // ä»Šæ—¥ã®æŒ‡å®šæ™‚åˆ»
        guard let todayResetTime = calendar.date(bySettingHour: resetTime, minute: 0, second: 0, of: now) else {
            return false
        }
        
        // ä½œæˆæ—¥æ™‚ãŒä»Šæ—¥ã®æŒ‡å®šæ™‚åˆ»ã‚ˆã‚Šå‰ã§ã€ã‹ã¤ä»Šã®æ™‚åˆ»ãŒæŒ‡å®šæ™‚åˆ»ã‚’éãã¦ã„ã‚‹å ´åˆ
        if now >= todayResetTime {
            return self < todayResetTime
        }
        
        // ã¾ã ä»Šæ—¥ã®æŒ‡å®šæ™‚åˆ»ã«ãªã£ã¦ã„ãªã„å ´åˆã¯ã€æ˜¨æ—¥ã®æŒ‡å®šæ™‚åˆ»ã¨æ¯”è¼ƒ
        guard let yesterdayResetTime = calendar.date(byAdding: .day, value: -1, to: todayResetTime) else {
            return false
        }
        
        return self < yesterdayResetTime
    }
}
```

#### 6. TodoListView.swift ã¸ã®ä¿®æ­£
```swift
// ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã«è¿½åŠ 
.toolbar {
    ToolbarItem(placement: .navigationBarTrailing) {
        Button {
            showingSettings = true
        } label: {
            Image(systemName: "gear")
        }
    }
}
.sheet(isPresented: $showingSettings) {
    SettingsView()
}

// ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«è¿½åŠ 
@State private var showingSettings = false
```

#### 7. TodoListViewModel.swift ã¸ã®ä¿®æ­£
```swift
@Observable
class TodoListViewModel {
    private let modelContext: ModelContext
    private let settingsRepository: SettingsRepository
    
    // initã®å¤‰æ›´ï¼šSettingsRepositoryã‚‚å—ã‘å–ã‚‹ã‚ˆã†ã«
    init(modelContext: ModelContext, settingsRepository: SettingsRepository) {
        self.modelContext = modelContext
        self.settingsRepository = settingsRepository
    }
    
    // æ—¢å­˜ã®ã‚³ãƒ¼ãƒ‰...
    
    // performReset()ã‚’ä¿®æ­£
    func performReset() {
        let allItems = loadAllTodos()
        let resetTime = settingsRepository.getSettings().resetTime
        
        let tasksToDelete = allItems.filter { item in
            item.createdAt.isBeforeResetTime(resetTime)
        }
        
        for task in tasksToDelete {
            modelContext.delete(task)
        }
        
        if !tasksToDelete.isEmpty {
            try? modelContext.save()
        }
    }
}
```

#### 8. TodoListView.swift ã§ã®ViewModelåˆæœŸåŒ–ã®ä¿®æ­£
```swift
struct TodoListView: View {
    @Environment(\.modelContext) private var modelContext
    @State private var viewModel: TodoListViewModel?
    
    var body: some View {
        // æ—¢å­˜ã®UIå®Ÿè£…...
    }
    
    .onAppear {
        if viewModel == nil {
            let settingsRepository = SettingsRepository(modelContext: modelContext)
            viewModel = TodoListViewModel(
                modelContext: modelContext,
                settingsRepository: settingsRepository
            )
        }
    }
}
```

### å®Ÿè£…é †åº

1. **Settings.swift**ï¼ˆãƒ¢ãƒ‡ãƒ«ï¼‰ã®å®Ÿè£…
2. **SettingsRepository.swift**ã®å®Ÿè£…
3. **Date+Extensions**ã®æ‹¡å¼µ
4. **SettingsViewModel.swift**ã®å®Ÿè£…
5. **SettingsView.swift**ã®å®Ÿè£…
6. **TodoListView.swift**ã®ä¿®æ­£ï¼ˆè¨­å®šç”»é¢ã¸ã®é·ç§»ï¼‰
7. **TodoListViewModel.swift**ã®ä¿®æ­£ï¼ˆRepositoryé€£æºï¼‰
8. **ModelContainerManager.swift**ã®ä¿®æ­£ï¼ˆSettingsãƒ¢ãƒ‡ãƒ«è¿½åŠ ï¼‰
9. **ãƒ†ã‚¹ãƒˆã®å®Ÿè£…**
10. **å‹•ä½œç¢ºèª**

### ãƒ†ã‚¹ãƒˆè¨­è¨ˆ

#### SettingsRepositoryTests.swift
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®ç¢ºèª
- SwiftDataã¸ã®ä¿å­˜ç¢ºèª
- getResetDate()ã®å‹•ä½œç¢ºèª
- è¤‡æ•°å›getSettings()ã‚’å‘¼ã³å‡ºã—ãŸæ™‚ã®ä¸€æ„æ€§ç¢ºèª

#### SettingsViewModelTests.swift
- resetTimeã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ç¢ºèª
- resetTimeDescription()ã®å‹•ä½œç¢ºèª
- in-memory SwiftDataã‚’ä½¿ã£ãŸå®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãƒ†ã‚¹ãƒˆ

#### Date+ExtensionsTests.swift ã¸ã®è¿½åŠ 
- isBeforeResetTime()ã®å„ç¨®æ™‚é–“ãƒ‘ã‚¿ãƒ¼ãƒ³ã®ãƒ†ã‚¹ãƒˆ
- æ—¥ä»˜å¤‰æ›´ã‚’ã¾ãŸãã‚±ãƒ¼ã‚¹ã®ãƒ†ã‚¹ãƒˆ
- ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã®è€ƒæ…®

### ãƒ‡ãƒ¼ã‚¿åæ˜ ã®è¨­è¨ˆæ–¹é‡

**ã‚·ãƒ³ãƒ—ãƒ«ãªåæ˜ æˆ¦ç•¥ã‚’æ¡ç”¨ï¼š**
- è¡¨ç¤ºæ™‚ã«Repositoryã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—ã—ã¦ViewModelã¸åæ˜ 
- æ›´æ–°æ™‚ã«ã‚‚å†å–å¾—ã—ã¦ViewModelã¸åæ˜ 
- è¤‡é›‘ãªç›£è¦–æ©Ÿæ§‹ã‚„Observableãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ä½¿ç”¨ã—ãªã„

**å…·ä½“çš„ãªå®Ÿè£…ï¼š**
1. **è¡¨ç¤ºæ™‚ã®åæ˜ **
   - SettingsViewã®onAppearã§ViewModelã‚’åˆæœŸåŒ–
   - ViewModelã®getterã§Repository.getSettings()ã‚’å‘¼ã³å‡ºã—
   - å¸¸ã«æœ€æ–°ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—

2. **æ›´æ–°æ™‚ã®åæ˜ **
   - Pickerã§å€¤ãŒå¤‰æ›´ã•ã‚Œã‚‹ã¨ViewModelã®setterãŒå‘¼ã°ã‚Œã‚‹
   - Repository.updateResetTime()ã§SwiftDataã«ä¿å­˜
   - æ¬¡å›ã®getterå‘¼ã³å‡ºã—æ™‚ã«æœ€æ–°å€¤ã‚’è‡ªå‹•å–å¾—

3. **ä»–ç”»é¢ã§ã®åæ˜ **
   - TodoListViewModelã‚‚åŒã˜Repositoryã‚’ä½¿ç”¨
   - performReset()å®Ÿè¡Œæ™‚ã«getSettings()ã§æœ€æ–°å€¤ã‚’å–å¾—
   - è¨­å®šå¤‰æ›´ãŒè‡ªå‹•çš„ã«åæ˜ ã•ã‚Œã‚‹

### è¨­è¨ˆã®åˆ©ç‚¹

1. **ã‚·ãƒ³ãƒ—ãƒ«ã•**ï¼š
   - è¤‡é›‘ãªé€šçŸ¥æ©Ÿæ§‹ãŒä¸è¦
   - ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ãŒæ˜ç¢ºã§ç†è§£ã—ã‚„ã™ã„
   - å®Ÿè£…ãŒç°¡æ½”

2. **ä¸€è²«æ€§**ï¼š
   - å¸¸ã«SwiftDataã‹ã‚‰æœ€æ–°å€¤ã‚’å–å¾—
   - è¤‡æ•°ç”»é¢é–“ã§ã®ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ãŒä¿è¨¼
   - å˜ä¸€ã®ä¿¡é ¼ã§ãã‚‹ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹

3. **ãƒ†ã‚¹ã‚¿ãƒ“ãƒªãƒ†ã‚£å‘ä¸Š**ï¼š
   - ViewModelã‚’å˜ä½“ã§ãƒ†ã‚¹ãƒˆã§ãã‚‹
   - MockRepositoryã‚’ä½¿ã£ãŸåˆ†é›¢ãƒ†ã‚¹ãƒˆ
   - UIãƒ­ã‚¸ãƒƒã‚¯ã‚’ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„

4. **è²¬å‹™åˆ†é›¢**ï¼š
   - Viewï¼šUIè¡¨ç¤ºã®ã¿
   - ViewModelï¼šUIãƒ­ã‚¸ãƒƒã‚¯ã€ãƒ‡ãƒ¼ã‚¿å¤‰æ›
   - Repositoryï¼šãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹

5. **æ‹¡å¼µæ€§**ï¼š
   - è¨­å®šç”»é¢ã®è¤‡é›‘ãªãƒ­ã‚¸ãƒƒã‚¯ã‚’ViewModelå†…ã«é›†ç´„
   - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚„ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®è¿½åŠ ãŒå®¹æ˜“

6. **ä¿å®ˆæ€§**ï¼š
   - Viewã¨Repositoryã®çµåˆåº¦ãŒä½ã„
   - ä¾å­˜æ€§æ³¨å…¥ã§ãƒ†ã‚¹ãƒˆã—ã‚„ã™ã„

### è€ƒæ…®äº‹é …

**ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼š**
- è¨­å®šç”»é¢ã‚’é–‹ã„ã¦ã„ã‚‹æ™‚ã«ãƒªã‚»ãƒƒãƒˆæ™‚åˆ»ã«ãªã£ãŸå ´åˆ
  - ç™ºç”Ÿç¢ºç‡ãŒæ¥µã‚ã¦ä½ã„ãŸã‚ã€ç¾æ™‚ç‚¹ã§ã¯ç‰¹åˆ¥ãªå¯¾å¿œã¯ä¸è¦
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚‚ã€Œãƒªã‚»ãƒƒãƒˆæ™‚åˆ»ã«ãªã£ãŸã‹ã‚‰ã€ã¨ç†è§£ã§ãã‚‹

**ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ï¼š**
- æ¯å›SwiftDataã‚¢ã‚¯ã‚»ã‚¹ãŒç™ºç”Ÿã™ã‚‹ãŒã€å˜ä¸€ãƒ¬ã‚³ãƒ¼ãƒ‰ã®ãŸã‚å½±éŸ¿ã¯è»½å¾®
- è¨­å®šå€¤ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹é »åº¦ã‚‚ä½ã„ãŸã‚ã€å•é¡Œã«ãªã‚‰ãªã„

### ç ´ç¶»ã™ã‚‹å¯èƒ½æ€§

1. **ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³å¯¾å¿œ**ãŒå¿…è¦ã«ãªã£ãŸå ´åˆ
2. **ã‚ˆã‚Šç´°ã‹ã„æ™‚é–“è¨­å®š**ãŒå¿…è¦ã«ãªã£ãŸå ´åˆï¼ˆ30åˆ†å˜ä½ãªã©ï¼‰
3. **è¤‡æ•°ã®ãƒªã‚»ãƒƒãƒˆæ¡ä»¶**ãŒå¿…è¦ã«ãªã£ãŸå ´åˆ
4. **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã®è¨­å®šåŒæœŸ**ãŒå¿…è¦ã«ãªã£ãŸå ´åˆï¼ˆè¤‡æ•°ãƒ‡ãƒã‚¤ã‚¹é–“ï¼‰

ã“ã‚Œã‚‰ã®å•é¡Œã«å¯¾ã—ã¦ã‚‚ã€Repository ãƒ‘ã‚¿ãƒ¼ãƒ³ã«ã‚ˆã‚Šå¯¾å¿œã—ã‚„ã™ã„æ§‹é€ ã«ãªã£ã¦ã„ã‚‹ã€‚

## å®Ÿè£…è¨ˆç”»

ã“ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¯ã€ãƒªã‚»ãƒƒãƒˆæ™‚é–“è¨­å®šæ©Ÿèƒ½ã®å®Ÿè£…è¨ˆç”»ã‚’è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚t-wadaã®TDDã‚¢ãƒ—ãƒ­ãƒ¼ãƒï¼ˆRed-Green-Refactorï¼‰ã«å¾“ã„ã€å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—ã§å®Ÿè£…ã‚’é€²ã‚ã¾ã™ã€‚

### å®Ÿè£…ãƒ•ã‚§ãƒ¼ã‚º

#### Phase 1: UIãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ï¼ˆã‚¹ãƒ†ãƒƒãƒ—0ï¼‰ âœ… **å®Œäº†**
**ç›®çš„**: å®Ÿéš›ã®UIã®å‹•ãã‚’ç¢ºèªã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½“é¨“ã‚’æ¤œè¨¼ã™ã‚‹

0. **SettingsViewã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—å®Ÿè£…** âœ…
   - ä»®ã®PickerUIã§0ã€œ23æ™‚ã‚’é¸æŠã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ âœ…
   - @Stateã§çŠ¶æ…‹ç®¡ç†ï¼ˆã¾ã ãƒ‡ãƒ¼ã‚¿ä¿å­˜ã¯ã—ãªã„ï¼‰ âœ…
   - é¸æŠã—ãŸæ™‚é–“ã®è¡¨ç¤ºã¨èª¬æ˜æ–‡ã®ç¢ºèª âœ…
   - TodoListViewã‹ã‚‰ã®ç”»é¢é·ç§»ã®ç¢ºèª âœ…

**å®Ÿè£…å†…å®¹:**
- SettingsView.swift ã®æ–°è¦ä½œæˆ
- 0-23æ™‚é¸æŠPickerï¼ˆè‡ªç„¶ãªæ™‚é–“è¡¨è¨˜: "0:00", "1:00", "23:00"ï¼‰
- å‹•çš„ãªèª¬æ˜æ–‡è¡¨ç¤ºï¼ˆ"æ¯æ—¥X:00ã«ã€ãã‚Œã‚ˆã‚Šå‰ã«ä½œæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ãŒè‡ªå‹•çš„ã«å‰Šé™¤ã•ã‚Œã¾ã™"ï¼‰
- TodoListViewã«æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ãƒœã‚¿ãƒ³è¿½åŠ ï¼ˆå³ç«¯é…ç½®ï¼‰
- ã‚·ãƒ¼ãƒˆã«ã‚ˆã‚‹ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤ºã§è¨­å®šç”»é¢ã¸ã®é·ç§»

**ã‚³ãƒŸãƒƒãƒˆ:** `3087b1a` - ãƒªã‚»ãƒƒãƒˆæ™‚é–“è¨­å®šç”»é¢ã®ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’å®Ÿè£…

#### Phase 2: ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«åŸºç›¤ï¼ˆã‚¹ãƒ†ãƒƒãƒ—1-2ï¼‰ âœ… **å®Œäº†**
**ç›®çš„**: ãƒ‡ãƒ¼ã‚¿ã®æ°¸ç¶šåŒ–åŸºç›¤ã‚’æ•´å‚™ã™ã‚‹

1. **Settingsãƒ¢ãƒ‡ãƒ«ã®åŸºæœ¬å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ** âœ…
   - `@Model`ã‚¯ãƒ©ã‚¹ã§resetTimeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ0ï¼‰ã‚’å®Ÿè£… âœ…
   - ãŸã ã®ãƒ‡ãƒ¼ã‚¿ã‚³ãƒ³ãƒ†ãƒŠã®ãŸã‚ãƒ†ã‚¹ãƒˆã¯ã‚¹ã‚­ãƒƒãƒ— âœ…

2. **ModelContainerManagerã¸ã®çµ±åˆ** âœ…
   - SwiftDataã‚³ãƒ³ãƒ†ãƒŠã«Settingsãƒ¢ãƒ‡ãƒ«ã‚’è¿½åŠ  âœ…
   - ã‚¢ãƒ—ãƒªå…¨ä½“ã§SettingsãŒæ°¸ç¶šåŒ–ã•ã‚Œã‚‹ã‚ˆã†ã«è¨­å®š âœ…

**å®Ÿè£…å†…å®¹:**
- Settings.swift ã®æ–°è¦ä½œæˆï¼ˆ@Modelã‚¯ãƒ©ã‚¹ã€resetTimeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼‰
- ModelContainerManager.swiftã«Settingsãƒ¢ãƒ‡ãƒ«è¿½åŠ 

**ã‚³ãƒŸãƒƒãƒˆ:** `5c09a77` - Settingsãƒ¢ãƒ‡ãƒ«ã‚’è¿½åŠ ã—SwiftDataã«çµ±åˆ

#### Phase 3: æ—¥ä»˜åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã‚¹ãƒ†ãƒƒãƒ—3-4ï¼‰ ğŸ”„ **é€²è¡Œä¸­**
**ç›®çš„**: ãƒªã‚»ãƒƒãƒˆæ™‚é–“ã®åˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹

3. **isBeforeTodayTime()ã®åŸºæœ¬å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ** âœ…
   - Dateæ‹¡å¼µã«æ—¥ä»˜åˆ¤å®šãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¿½åŠ ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰åå¤‰æ›´ï¼šisBeforeTodayTimeï¼‰ âœ…
   - åŸºæœ¬çš„ãªã‚±ãƒ¼ã‚¹ï¼ˆä»Šæ—¥ã®æŒ‡å®šæ™‚åˆ»å‰å¾Œï¼‰ã®ãƒ†ã‚¹ãƒˆ âœ…

4. **isBeforeTodayTime()ã®åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ** ğŸ”„ **ç¾åœ¨å®Ÿè£…ä¸­**
   - å½“æ—¥ã®æŒ‡å®šæ™‚åˆ»å‰å¾Œã®åˆ¤å®šãƒ†ã‚¹ãƒˆ âœ…
   - å‰æ—¥ãƒ»ç¿Œæ—¥ã§ã®åˆ¤å®šãƒ†ã‚¹ãƒˆ âœ…
   - æŒ‡å®šæ™‚åˆ»ã®å‰å¾Œ1åˆ†ã§ã®å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ âœ…
   - **TODO**: æ—¥ä»˜ã‚’ã¾ãŸãã‚±ãƒ¼ã‚¹ï¼ˆãƒªã‚»ãƒƒãƒˆæ™‚åˆ»ãŒéããŸå¾Œã®æ˜¨æ—¥ã®ã‚¿ã‚¹ã‚¯åˆ¤å®šï¼‰ã®å®Ÿè£…ãŒå¿…è¦

**å®Ÿè£…å†…å®¹:**
- Date+Extensions.swiftã«isBeforeTodayTime(hour:)ãƒ¡ã‚½ãƒƒãƒ‰è¿½åŠ 
  - ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ï¼šä»Šæ—¥ã®æŒ‡å®šæ™‚åˆ»ã¨æ¯”è¼ƒã™ã‚‹ã®ã¿
- Date+ExtensionsTests.swiftã«6ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¿½åŠ ï¼š
  - å½“æ—¥ã®æŒ‡å®šæ™‚åˆ»ã‚ˆã‚Šå‰/å¾Œã®åˆ¤å®š
  - å‰æ—¥/ç¿Œæ—¥ã®åˆ¤å®š
  - æŒ‡å®šæ™‚åˆ»ã®å‰å¾Œ1åˆ†ã§ã®å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ

**å®Ÿè£…ã®å†è©•ä¾¡:**
- ç¾åœ¨ã®`isBeforeTodayTime(hour:)`ã¯ä»•æ§˜è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ âœ…
- ã€ŒæŒ‡å®šæ™‚åˆ»ã‚ˆã‚Šå‰ã«ä½œæˆã•ã‚ŒãŸã‚¿ã‚¹ã‚¯ã‚’å‰Šé™¤ã€ã¨ã„ã†åŸºæœ¬ä»•æ§˜ã«åˆè‡´
- è¨­è¨ˆæ›¸ã®è¤‡é›‘ãª`isBeforeResetTime()`ã¯éå‰°è¨­è¨ˆã ã£ãŸå¯èƒ½æ€§
- ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ã®æ–¹ãŒç†è§£ã—ã‚„ã™ãã€ãƒã‚°ã‚‚å°‘ãªã„

**å­¦ã³:**
- è¦ä»¶å®šç¾©ã‚’ãƒ™ãƒ¼ã‚¹ã«å®Ÿè£…ã‚’è©•ä¾¡ã™ã‚‹ã“ã¨ã®é‡è¦æ€§
- è¤‡é›‘ãªè¨­è¨ˆã‚ˆã‚Šã€è¦ä»¶ã‚’æº€ãŸã™ã‚·ãƒ³ãƒ—ãƒ«ãªå®Ÿè£…ã‚’å„ªå…ˆã™ã¹ã

#### Phase 4: ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ï¼ˆã‚¹ãƒ†ãƒƒãƒ—5-7ï¼‰ âœ… **å®Œäº†**
**ç›®çš„**: ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿æ›¸ãã‚’æŠ½è±¡åŒ–ã™ã‚‹

5. **SettingsRepositoryã®åŸºæœ¬å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ** âœ…
   - getResetTime()ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ï¼ˆè¨­å®šãŒãªã„å ´åˆã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤0ã§æ–°è¦ä½œæˆï¼‰ âœ…
   - updateResetTime()ãƒ¡ã‚½ãƒƒãƒ‰ã®å®Ÿè£…ï¼ˆè¨­å®šå€¤ã®æ›´æ–°ã¨SwiftDataã¸ã®ä¿å­˜ï¼‰ âœ…
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ­ãƒ¼ã‚’æƒ³å®šã—ãŸãƒ†ã‚¹ãƒˆï¼ˆupdate â†’ get â†’ update â†’ getï¼‰ âœ…

**å®Ÿè£…å†…å®¹:**
- SettingsRepository.swift ã®æ–°è¦ä½œæˆï¼ˆãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹å±¤ã®å®Ÿè£…ï¼‰
  - @MainActorä»˜ãã§SwiftDataã‚¢ã‚¯ã‚»ã‚¹ã«å¯¾å¿œ
  - å†…éƒ¨å®Ÿè£…ã‚’å®Œå…¨ã«éš è”½ã™ã‚‹ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆè¨­è¨ˆ
  - getResetTime()ã¨updateResetTime()ã®ã‚·ãƒ³ãƒ—ãƒ«ãªAPIå…¬é–‹
  - è¨­å®šãŒå­˜åœ¨ã—ãªã„å ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤è‡ªå‹•ä½œæˆ
- SettingsRepositoryTests.swift ã®æ–°è¦ä½œæˆï¼ˆ2ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
  - @MainActorä»˜ãã§Repositoryå‘¼ã³å‡ºã—ã«å¯¾å¿œ
  - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ç¢ºèªãƒ†ã‚¹ãƒˆ
  - æ›´æ–°â†’å–å¾—ã®å®Ÿéš›ã®åˆ©ç”¨ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒ†ã‚¹ãƒˆ

**å­¦ã³:**
- è¦ä»¶å®šç¾©ã®è¤‡é›‘ãªè¨­è¨ˆï¼ˆgetResetDateç­‰ï¼‰ã‚ˆã‚Šã€å®Ÿéš›ã«å¿…è¦ãªAPIã«çµã£ãŸå®Ÿè£…ãŒåŠ¹æœçš„
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå®Ÿéš›ã«è¡Œã†æ“ä½œãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’åæ˜ ã—ãŸãƒ†ã‚¹ãƒˆè¨­è¨ˆã®é‡è¦æ€§
- å†…éƒ¨å®Ÿè£…ã®éš è”½ã«ã‚ˆã‚Šã€åˆ©ç”¨è€…ã«ã¨ã£ã¦åˆ†ã‹ã‚Šã‚„ã™ã„ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›

#### Phase 5: ViewModelãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã‚¹ãƒ†ãƒƒãƒ—8-9ï¼‰ âœ… **å®Œäº†**
**ç›®çš„**: UIã¨ãƒ‡ãƒ¼ã‚¿å±¤ã‚’ç¹‹ããƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã™ã‚‹

8. **SettingsViewModelã®åŸºæœ¬å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ** âœ…
   - resetTimeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®getter/setter âœ…
   - Repositoryã¨ã®é€£æºç¢ºèªï¼ˆin-memory SwiftDataä½¿ç”¨ï¼‰ âœ…

9. **ViewModelã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ** âœ…
   - resetTimeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ã¿å®Ÿè£…ï¼ˆèª¬æ˜æ–‡ç”Ÿæˆãƒ¡ã‚½ãƒƒãƒ‰ã¯ä¸è¦ã¨åˆ¤æ˜ï¼‰ âœ…
   - @MainActorã¨Repositoryã¨ã®é€£æºå®Ÿè£… âœ…

**å®Ÿè£…å†…å®¹:**
- SettingsViewModel.swift ã®æ–°è¦ä½œæˆï¼ˆUIãƒ­ã‚¸ãƒƒã‚¯å±¤ã®å®Ÿè£…ï¼‰
  - resetTimeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã§RepositoryçµŒç”±ã®ãƒ‡ãƒ¼ã‚¿ã‚¢ã‚¯ã‚»ã‚¹
  - @MainActorä»˜ãã§SwiftDataã‚¢ã‚¯ã‚»ã‚¹ã«å¯¾å¿œ
  - èª¬æ˜æ–‡ç”Ÿæˆã¯UIã§ç›´æ¥æ–‡å­—åˆ—è£œé–“ã‚’ä½¿ç”¨ï¼ˆãƒ¡ã‚½ãƒƒãƒ‰ä¸è¦ï¼‰
- SettingsViewModelTests.swift ã®æ–°è¦ä½œæˆï¼ˆ1ã¤ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼‰
  - resetTimeãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒ†ã‚¹ãƒˆ
  - @MainActorä»˜ãã§Repositoryå‘¼ã³å‡ºã—ã«å¯¾å¿œ
  - MockRepositoryã§ã¯ãªãin-memory SwiftDataã§å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã‚’ãƒ†ã‚¹ãƒˆ

**å­¦ã³:**
- ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã¨ã®æ•´åˆæ€§ç¢ºèªã®é‡è¦æ€§ï¼ˆformattedResetTimeã¯éå‰°è¨­è¨ˆã ã£ãŸï¼‰
- Mockã‚ˆã‚Šã‚‚in-memory SwiftDataã®æ–¹ãŒå®Ÿéš›ã®å‹•ä½œã«è¿‘ã„ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹
- è¦ä»¶å®šç¾©æ®µéšã®è¨­è¨ˆã‚ˆã‚Šã€å®Ÿéš›ã®UIãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã®æ–¹ãŒæ­£ç¢ºãªä»•æ§˜ã‚’è¡¨ã—ã¦ã„ã‚‹å ´åˆãŒã‚ã‚‹

#### Phase 6: UIå®Ÿè£…ï¼ˆã‚¹ãƒ†ãƒƒãƒ—10-11ï¼‰ âœ… **å®Œäº†**
**ç›®çš„**: ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‚’æœ¬å®Ÿè£…ã«ç½®ãæ›ãˆã‚‹

10. **SettingsViewã®æœ¬å®Ÿè£…** âœ…
    - ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã‹ã‚‰ViewModelã‚’ä½¿ã†å®Ÿè£…ã¸ç§»è¡Œ âœ…
    - Pickerã«ã‚ˆã‚‹0-23æ™‚ã®é¸æŠUI âœ…
    - NavigationStackã¨Formã«ã‚ˆã‚‹ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ âœ…

11. **TodoListViewã¸ã®çµ±åˆ** âœ…
    - ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã«æ­¯è»Šã‚¢ã‚¤ã‚³ãƒ³ã‚’è¿½åŠ ï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰ âœ…
    - ã‚·ãƒ¼ãƒˆã«ã‚ˆã‚‹è¨­å®šç”»é¢ã®è¡¨ç¤ºï¼ˆæ—¢ã«å®Ÿè£…æ¸ˆã¿ï¼‰ âœ…

**å®Ÿè£…å†…å®¹:**
- SettingsView.swift ã®æœ¬å®Ÿè£…ã¸ã®ç§»è¡Œ
  - ViewModelã‚’ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ï¼ˆ@Stateã‹ã‚‰@ViewModelã«å¤‰æ›´ï¼‰
  - TodoListViewã¨åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã§ModelContainerManager.shared.mainContextã‚’ä½¿ç”¨
  - ç›´æ¥æ–‡å­—åˆ—è£œé–“ã«ã‚ˆã‚‹èª¬æ˜æ–‡è¡¨ç¤ºï¼ˆresetTimeDescription()ãƒ¡ã‚½ãƒƒãƒ‰ã¯ä¸è¦ã¨åˆ¤æ–­ï¼‰
- MainActorã®å•é¡Œè§£æ±º
  - SettingsRepositoryã«@MainActorè¿½åŠ ï¼ˆSwiftDataã‚¢ã‚¯ã‚»ã‚¹ã®ãŸã‚ï¼‰
  - SettingsViewModelã«@MainActorè¿½åŠ ï¼ˆRepositoryå‘¼ã³å‡ºã—ã®ãŸã‚ï¼‰
  - SettingsRepositoryTestsã€SettingsViewModelTestsã«ã‚‚@MainActorè¿½åŠ 
- ä¸è¦ã‚³ãƒ¼ãƒ‰ã®å‰Šé™¤
  - SettingsViewModelã®resetTimeDescription()ãƒ¡ã‚½ãƒƒãƒ‰å‰Šé™¤
  - UIã§ç›´æ¥viewModel.resetTimeã‚’ä½¿ã£ãŸæ–‡å­—åˆ—è£œé–“ã«å¤‰æ›´

**å­¦ã³:**
- SwiftDataã‚’ä½¿ã†Repositoryã¯@MainActorãŒå¿…é ˆ
- ãã‚Œã‚’å‘¼ã³å‡ºã™ViewModelã‚‚@MainActorãŒå¿…è¦
- ãƒ†ã‚¹ãƒˆã‚‚@MainActorã«ã™ã‚‹å¿…è¦ãŒã‚ã‚‹
- ã‚·ãƒ³ãƒ—ãƒ«ãªæ–‡å­—åˆ—è¡¨ç¤ºã«ã‚ã–ã‚ã–ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œã‚‹å¿…è¦ã¯ãªã„
- TodoListViewã®å®Ÿè£…ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å‚è€ƒã«ã™ã‚‹ã“ã¨ã§ä¸€è²«æ€§ã®ã‚ã‚‹ã‚³ãƒ¼ãƒ‰ã«

#### Phase 7: æ—¢å­˜æ©Ÿèƒ½ã¨ã®çµ±åˆï¼ˆã‚¹ãƒ†ãƒƒãƒ—12-15ï¼‰
**ç›®çš„**: æ—¢å­˜ã®ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½ã‚’æ–°ã—ã„è¨­å®šã«å¯¾å¿œã•ã›ã‚‹

12. **TodoListViewModelã®ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ä¿®æ­£**
    - SettingsRepositoryã‚’å—ã‘å–ã‚‹ã‚ˆã†ã«å¤‰æ›´
    - ä¾å­˜æ€§æ³¨å…¥ã®å®Ÿè£…

13. **performReset()ã®ä¿®æ­£**
    - isBeforeToday()ã‹ã‚‰isBeforeResetTime()ã¸åˆ‡ã‚Šæ›¿ãˆ
    - è¨­å®šã•ã‚ŒãŸæ™‚é–“ã§ã®ãƒªã‚»ãƒƒãƒˆå‹•ä½œå®Ÿè£…

14. **TodoListViewã§ã®åˆæœŸåŒ–ä¿®æ­£**
    - SettingsRepositoryã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ä½œæˆ
    - ViewModelã¸ã®æ³¨å…¥

15. **æ—¢å­˜ãƒ†ã‚¹ãƒˆã®ä¿®æ­£**
    - MockSettingsRepositoryã®ä½œæˆ
    - TodoListViewModelã®ãƒ†ã‚¹ãƒˆã‚’æ–°ã—ã„æ§‹é€ ã«å¯¾å¿œ

#### Phase 8: å‹•ä½œç¢ºèªï¼ˆã‚¹ãƒ†ãƒƒãƒ—16-17ï¼‰
**ç›®çš„**: å®Ÿè£…ã®å®Œæˆåº¦ã‚’ç¢ºèªã™ã‚‹

16. **iOSã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ã§ã®çµ±åˆãƒ†ã‚¹ãƒˆ**
    - è¨­å®šç”»é¢ã§ã®æ™‚é–“å¤‰æ›´
    - ãƒªã‚»ãƒƒãƒˆå‹•ä½œã®ç¢ºèª
    - ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–ã®ç¢ºèª

17. **ãƒ“ãƒ«ãƒ‰ç¢ºèª**
    - xcodebuildã§ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèª
    - å…¨ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª

### å®Ÿè£…ã®ç‰¹å¾´

- **ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: UIã®å‹•ãã‚’æœ€åˆã«ç¢ºèªã—ã¦ã‹ã‚‰æœ¬å®Ÿè£…ã«å…¥ã‚‹
- **å°ã•ãªã‚¹ãƒ†ãƒƒãƒ—**: å„æ©Ÿèƒ½ã‚’ç´°ã‹ãåˆ†å‰²ã—ã€ãƒ†ã‚¹ãƒˆã§å‹•ä½œã‚’ç¢ºèªã—ãªãŒã‚‰é€²ã‚ã‚‹
- **ä¾å­˜é–¢ä¿‚ã®ç®¡ç†**: ä¸‹ä½å±¤ï¼ˆModelã€Extensionsï¼‰ã‹ã‚‰ä¸Šä½å±¤ï¼ˆViewï¼‰ã¸é †ç•ªã«å®Ÿè£…
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ**: å„ã‚¹ãƒ†ãƒƒãƒ—ã§ãƒ†ã‚¹ãƒˆã‚’å…ˆã«æ›¸ã„ã¦ã‹ã‚‰å®Ÿè£…ï¼ˆTDDï¼‰
- **æ®µéšçš„çµ±åˆ**: æ–°æ©Ÿèƒ½ã‚’æ—¢å­˜ã‚³ãƒ¼ãƒ‰ã«å°‘ã—ãšã¤çµ±åˆ

### å„ã‚¹ãƒ†ãƒƒãƒ—ã®è¦‹ç©ã‚‚ã‚Šæ™‚é–“

- Phase 1ï¼ˆãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ï¼‰: 30åˆ†
- Phase 2-3ï¼ˆåŸºç›¤å®Ÿè£…ï¼‰: 1æ™‚é–“
- Phase 4-5ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰: 1.5æ™‚é–“
- Phase 6-7ï¼ˆUIçµ±åˆï¼‰: 1æ™‚é–“
- Phase 8ï¼ˆå‹•ä½œç¢ºèªï¼‰: 30åˆ†

åˆè¨ˆ: ç´„4æ™‚é–“
